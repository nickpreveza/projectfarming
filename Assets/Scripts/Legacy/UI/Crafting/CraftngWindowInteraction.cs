using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using TMPro;
//using static UnityEditor.Progress;
//using Unity.VisualScripting;

public class CraftngWindowInteraction : MonoBehaviour
{ 
    /*
    Button trigger;
    public GameObject container;
    public CraftingRecepie heldRecepie;
    public GameObject[] slots;
    public ItemDatabaseObject database;
    public Dictionary<GameObject, InventorySlot> itemsDisplayed;
    public InventoryObject staticInventory;
    public GameObject craftingWindow;


    private void Start()
    {
        craftingWindow = GameObject.Find("CraftingTable");
        staticInventory = craftingWindow.GetComponent<StaticInterface>().inventory;
        itemsDisplayed = craftingWindow.GetComponent<StaticInterface>().itemsDisplayed;
        trigger = this.GetComponent<Button>();
        trigger.onClick.AddListener(onInteraction);
        slots = GetComponentInParent<RecepieContainer>().slots;

    }

   void onInteraction()
    {
       int  i = -1;
       
        foreach (KeyValuePair<GameObject, InventorySlot> _slot in itemsDisplayed)
        {
            Item item = default;
            _slot.Value.UpdateSlot(-1, item, 0);

            i++;

            _slot.Value.UpdateSlot(heldRecepie.requiredItems[i].ID, heldRecepie.requiredItems[i], heldRecepie.requiredItems[i].ammountNeeded);

            if (i == 4)
            {
                return;
            }
        }

        //foreach (KeyValuePair<GameObject, InventorySlot> _slot in itemsDisplayed)
        //{
        //    i++;

        //    _slot.Value.UpdateSlot(heldRecepie.requiredItems[i].ID, heldRecepie.requiredItems[i], heldRecepie.requiredItems[i].ammountNeeded);

        //    if (i == 4)
        //    {
        //        return;
        //    }
        //}
    }*/

    }
